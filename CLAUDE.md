# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

AlgoLounge is an interactive coding practice platform built with Angular 19.2. It provides hands-on programming challenges and structured courses for developers to practice algorithmic thinking and problem-solving skills. The platform supports multiple programming languages (Python, JavaScript, TypeScript, Java) with in-browser code execution.

## Development Commands

### Essential Commands
- `npm start` or `ng serve` - Start development server on http://localhost:4200
- `ng build` - Build for production (outputs to dist/alglounge)
- `ng test` - Run unit tests with Karma
- `npm run sync-index` - Sync questions and courses index files after adding new content

### Angular CLI Commands
- `ng generate component component-name` - Generate new component
- `ng generate service service-name` - Generate new service
- `ng build --watch --configuration development` - Build in watch mode for development

## Architecture Overview

### Core Application Structure
- **Angular 19.2** with standalone components architecture
- **Routing**: Main routes include `/home`, `/questions/:name`, `/courses`, `/courses/:filename`
- **State Management**: Local storage service for progress tracking and completed questions
- **UI Components**: PrimeNG for UI components with custom theming

### Key Services
- **CodeExecutionService** (`src/app/services/code-execution.service.ts`): Handles multi-language code execution
  - Python: Uses Pyodide (browser-based Python runtime)
  - JavaScript/TypeScript: Uses Function constructor for safe execution
  - Java: Uses CheerpJ for browser-based JVM with ECJ compiler
- **LocalStorageService**: Manages user progress and completed questions
- **Course/Question Services**: Handle loading and searching course/question data

### Code Execution Architecture
The platform executes code entirely in the browser:
- **Python**: Loads Pyodide from CDN, executes in isolated context
- **JavaScript/TypeScript**: Strips TypeScript annotations and executes with Function constructor
- **Java**: Compiles with ECJ (Eclipse Compiler for Java) via CheerpJ, packages as JAR, and executes

### Content Structure
- **Questions**: JSON files in `public/questions/` with multi-language support
  - Each question has `languages` object with `python`, `javascript`, `typescript`, `java` keys
  - Contains templates, solutions, test cases, and descriptions
- **Courses**: JSON files in `public/courses/` with structured learning paths
  - Organized in units with question sequences
- **Index Files**: Auto-generated by `sync-index.js` script for search functionality

### Component Architecture
- **Pages**: Main route components (Home, Questions, Courses, CourseDetail, NotFound)
- **Questions Page Components**:
  - `IdeComponent`: CodeMirror-based code editor with syntax highlighting
  - `ConsoleComponent`: Test results and execution output display
  - `ContentTabsComponent`: Description, solution tabs with completion tracking
- **Services Integration**: Components use dependency injection for CodeExecutionService and LocalStorageService

### Key Features
- **Multi-language Support**: Same problems available in Python, JavaScript, TypeScript, Java
- **Progress Tracking**: Local storage persistence of completed questions
- **Test Execution**: Automated test case validation with detailed feedback
- **Course System**: Structured learning paths with unit organization
- **Dark Mode**: Supported throughout the application

## Design System

### 8pt Grid Spacing System
ALL spacing must use multiples of 8 to maintain consistency and rhythm:
- **Spacing Scale**: 8px, 16px, 24px, 32px, 40px, 48px, 64px, 96px
- **Core Rule**: Internal spacing ≤ External spacing (padding inside elements ≤ margins between elements)
- **Section Padding**: 96px vertical, 64px horizontal (desktop), 64px/24px (mobile)
- **Card Padding**: 40px internal
- **Element Gaps**: 32px (large), 24px (medium), 16px (small), 8px (tight)

### Typography Scale (Golden Ratio)
Use a consistent type scale with limited font weights:
- **Headlines**: 64px (hero), 48px (sections), 24px (subsections)
- **Body Text**: 18px (large/intro), 16px (normal)
- **Line Heights**: 1.1 (large headlines), 1.2-1.3 (titles), 1.6 (body text)
- **Font Weights**: 400 (regular), 600 (semibold), 700 (bold) - ONLY use these 3
- **Max Line Length**: 70-80 characters (~480px at 16px) for optimal readability

### Visual Hierarchy Principles
- **Size Creates Importance**: Use dramatic size contrast (64px vs 16px = 4x ratio), not just bold/color
- **F-Pattern Layout**: Left-align content for natural scanning (top-left → right → down)
- **Whitespace**: Aim for 40-60% whitespace on pages for premium feel
- **One Focal Point**: Each section should have one clear visual priority
- **Breathing Room**: 96px between major sections

### Theme & Styling
- **Colors**: Use theme variables exclusively (var(--color-primary), var(--color-text-primary), etc.)
  - Primary: #3B82F6 (blue)
  - Accent: #F59E0B (gold)
  - NO random color additions or purple gradients
- **Border Radius**: $radius-lg (0.75rem), $radius-xl (1rem)
- **Shadows**: $shadow-sm (subtle), $shadow-md (medium), $shadow-lg (prominent)
- **Borders**: 1px solid var(--color-border) for all cards/containers

### UI Component Standards
- **Icons**: NO emojis → use minimal SVG icons only (32px standard size)
- **Cards**:
  - Max 3 feature cards per section (not 6+)
  - Hover state: `transform: translateY(-4px)` + `box-shadow: $shadow-lg`
  - Border color changes to primary on hover
- **Buttons**:
  - Primary: filled background (var(--color-primary))
  - Secondary: outlined with border
  - Padding: 16px vertical, 32px horizontal
  - Hover: `translateY(-2px)` with enhanced shadow
- **Layout**: F-pattern (left-aligned) except for final CTAs (centered)

### Page Structure Guidelines
- **Home Page**: Hero (F-pattern) → Features (3 cards) → CTA (centered)
- **Questions Page**: Follows existing split-pane layout with rounded cards
- **Visual Continuity**: All pages should feel cohesive using same card styles, shadows, and spacing

## Development Guidelines

### Adding New Questions
1. Create JSON file in `public/questions/` following the multi-language format
2. Include all supported languages with templates and solutions
3. Add comprehensive test cases with expected outputs
4. Run `npm run sync-index` to update search indices

### Adding New Courses
1. Create JSON file in `public/courses/` with course structure
2. Organize content in units with question references
3. Run `npm run sync-index` to update indices

### Working with Code Execution
- Test new language features thoroughly across all supported languages
- Ensure proper error handling for compilation and runtime errors
- Validate test case formats and execution results
- Consider performance implications of browser-based execution

### Component Development
- Use Angular standalone component architecture
- Follow existing patterns for dependency injection
- Implement proper lifecycle management for resource cleanup
- Use PrimeNG components for consistent UI
- **Follow 8pt grid spacing system** for all layouts and components
- **Use typography scale** defined in Design System section
- **Maintain visual continuity** with questions page aesthetic (same card styles, shadows, borders)
- **Test all interactive states**: hover, active, focus, disabled
- **NO emojis** in production UI (use SVG icons)

## Testing

### Running Tests
- `ng test` - Executes unit tests with Karma and Jasmine
- Test files use `.spec.ts` extension and are located alongside components/services

### Question Validation
- Use validation scripts like `validate-solutions.js` and test files in root directory
- Ensure all question solutions work across supported languages
- Verify test cases produce expected outputs