{
  "index": 0,
  "filename": "find-the-winner-of-the-circular-game",
  "title": "Find the Winner of the Circular Game",
  "keywords": [
    "queue",
    "simulation",
    "josephus problem",
    "circular",
    "math"
  ],
  "description": "<h2>Find the Winner of the Circular Game</h2><p>There are <code>n</code> friends that are playing a game. The friends are sitting in a circle and are numbered from <code>1</code> to <code>n</code> in clockwise order. More formally, moving clockwise from the <code>i<sup>th</sup></code> friend brings you to the <code>(i+1)<sup>th</sup></code> friend for <code>1 <= i < n</code>, and moving clockwise from the <code>n<sup>th</sup></code> friend brings you to the <code>1<sup>st</sup></code> friend.</p><p>The rules of the game are as follows:</p><ol><li>Start at the <code>1<sup>st</sup></code> friend</li><li>Count the next <code>k</code> friends in the clockwise direction including the friend you started at. The counting wraps around the circle and may count some friends more than once</li><li>The last friend you counted leaves the circle and loses the game</li><li>If there is still more than one friend in the circle, go back to step 2 starting from the friend immediately clockwise of the friend who just lost and repeat</li><li>Else, the last friend in the circle wins the game</li></ol><p>Given the number of friends <code>n</code> and an integer <code>k</code>, return the winner of the game.</p><h3>Examples:</h3><p><strong>Example 1:</strong></p><pre>Input: n = 5, k = 2\nOutput: 3\nExplanation: Here are the steps of the game:\n1) Start at friend 1.\n2) Count 2 friends clockwise, which are friends 1 and 2.\n3) Friend 2 leaves the circle. Next start is friend 3.\n4) Count 2 friends clockwise, which are friends 3 and 4.\n5) Friend 4 leaves the circle. Next start is friend 5.\n6) Count 2 friends clockwise, which are friends 5 and 1.\n7) Friend 1 leaves the circle. Next start is friend 3.\n8) Count 2 friends clockwise, which are friends 3 and 5.\n9) Friend 5 leaves the circle. Only friend 3 is left, so they are the winner.</pre><p><strong>Example 2:</strong></p><pre>Input: n = 6, k = 5\nOutput: 1\nExplanation: The friends leave in this order: 5, 4, 6, 2, 3. The winner is friend 1.</pre><h3>Constraints:</h3><ul><li><code>1 <= k <= n <= 500</code></li></ul>",
  "entry_function": "findTheWinner",
  "template": "def findTheWinner(n, k):\n    ",
  "solution_text": "<h3>Find the Winner of the Circular Game</h3><p><strong>Approach 1: Queue Simulation</strong></p><ol><li>Create a queue with numbers from 1 to n</li><li>Simulate the elimination process: For each round, rotate the queue k-1 times (moving front to back), then remove the k<sup>th</sup> person</li><li>Continue until only one person remains</li><li>Return the last remaining person</li></ol><p><strong>Time Complexity:</strong> O(n * k)</p><p><strong>Space Complexity:</strong> O(n) for the queue</p><p><strong>Approach 2: Josephus Problem (Mathematical)</strong></p><p>This is the classic Josephus problem. The mathematical formula is:</p><ul><li>josephus(n, k) = (josephus(n-1, k) + k) % n</li><li>Base case: josephus(1, k) = 0 (0-indexed)</li></ul><p><strong>Time Complexity:</strong> O(n)</p><p><strong>Space Complexity:</strong> O(1) for iterative, O(n) for recursive</p><p><strong>Key Insights:</strong></p><ul><li>The queue simulation is intuitive and mirrors the problem description</li><li>The mathematical approach is much faster for large n</li><li>The formula works by finding the position in a smaller circle and adjusting it</li><li>Remember to convert between 0-indexed (formula) and 1-indexed (problem) at the end</li></ul>",
  "solution_code": "from collections import deque\n\ndef findTheWinner(n, k):\n    # Queue simulation approach\n    queue = deque(range(1, n + 1))\n    \n    while len(queue) > 1:\n        # Rotate k-1 times to position the k-th person at front\n        for _ in range(k - 1):\n            queue.append(queue.popleft())\n        \n        # Remove the k-th person\n        queue.popleft()\n    \n    return queue[0]",
  "prepare": "def prepare(test_case_input):\n    \"\"\"Prepare arguments for findTheWinner function\"\"\"\n    return (test_case_input['n'], test_case_input['k'])",
  "verify": "def verify(actual_output, expected_output):\n    \"\"\"Verify the result\"\"\"\n    if actual_output == expected_output:\n        return [True, str(actual_output)]\n    return [False, str(actual_output)]",
  "test_cases": [
    {
      "id": 1,
      "input": {
        "n": 5,
        "k": 2
      },
      "output": 3
    },
    {
      "id": 2,
      "input": {
        "n": 6,
        "k": 5
      },
      "output": 1
    },
    {
      "id": 3,
      "input": {
        "n": 1,
        "k": 1
      },
      "output": 1
    },
    {
      "id": 4,
      "input": {
        "n": 3,
        "k": 1
      },
      "output": 3
    },
    {
      "id": 5,
      "input": {
        "n": 10,
        "k": 3
      },
      "output": 4
    },
    {
      "id": 6,
      "input": {
        "n": 7,
        "k": 4
      },
      "output": 2
    },
    {
      "id": 7,
      "input": {
        "n": 4,
        "k": 2
      },
      "output": 1
    },
    {
      "id": 8,
      "input": {
        "n": 8,
        "k": 5
      },
      "output": 3
    }
  ]
}
