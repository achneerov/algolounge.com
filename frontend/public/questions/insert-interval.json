{
  "index": 1,
  "filename": "insert-interval",
  "title": "Insert Interval",
  "keywords": [
    "insert",
    "interval",
    "intervals",
    "merge",
    "array",
    "medium",
    "leetcode"
  ],
  "description": "<h2>Insert Interval</h2><p>You are given an array of non-overlapping intervals <code>intervals</code> where <code>intervals[i] = [starti, endi]</code> represent the start and the end of the ith interval and <code>intervals</code> is sorted in ascending order by <code>starti</code>. You are also given an interval <code>newInterval = [start, end]</code> that represents the start and end of another interval.</p><p>Insert <code>newInterval</code> into <code>intervals</code> such that <code>intervals</code> is still sorted in ascending order by <code>starti</code> and <code>intervals</code> still does not have any overlapping intervals (merge overlapping intervals if necessary).</p><p>Return <code>intervals</code> after the insertion.</p><h3>Examples:</h3><ul><li><strong>Input:</strong> intervals = [[1,3],[6,9]], newInterval = [2,5]<br><strong>Output:</strong> [[1,5],[6,9]]</li><li><strong>Input:</strong> intervals = [[1,2],[3,5],[6,7],[8,10],[12,16]], newInterval = [4,8]<br><strong>Output:</strong> [[1,2],[3,10],[12,16]]<br><strong>Explanation:</strong> Because the new interval [4,8] overlaps with [3,5],[6,7],[8,10].</li></ul><h3>Constraints:</h3><ul><li><code>0 <= intervals.length <= 10^4</code></li><li><code>intervals[i].length == 2</code></li><li><code>0 <= starti <= endi <= 10^5</code></li><li><code>intervals</code> is sorted by <code>starti</code> in ascending order</li><li><code>newInterval.length == 2</code></li><li><code>0 <= start <= end <= 10^5</code></li></ul>",
  "entry_function": "insert",
  "template": "def insert(intervals, newInterval):\n    ",
  "solution_text": "<h3>Insert Interval</h3><p><strong>Algorithm:</strong></p><ol><li>Add all intervals that come before newInterval (end < newInterval.start)</li><li>Merge all overlapping intervals with newInterval</li><li>Add the merged interval</li><li>Add all remaining intervals</li></ol><p><strong>Time Complexity:</strong> O(n) where n is the number of intervals</p><p><strong>Space Complexity:</strong> O(n) for the result array</p><p><strong>Key Insights:</strong></p><ul><li>Three phases: before, merge, after</li><li>Intervals overlap if start1 <= end2 and start2 <= end1</li><li>While merging, expand newInterval bounds</li><li>Input is already sorted, so single pass is sufficient</li></ul>",
  "solution_code": "def insert(intervals, newInterval):\n    result = []\n    i = 0\n    n = len(intervals)\n    \n    # Add all intervals before newInterval\n    while i < n and intervals[i][1] < newInterval[0]:\n        result.append(intervals[i])\n        i += 1\n    \n    # Merge overlapping intervals\n    while i < n and intervals[i][0] <= newInterval[1]:\n        newInterval[0] = min(newInterval[0], intervals[i][0])\n        newInterval[1] = max(newInterval[1], intervals[i][1])\n        i += 1\n    \n    result.append(newInterval)\n    \n    # Add remaining intervals\n    while i < n:\n        result.append(intervals[i])\n        i += 1\n    \n    return result",
  "prepare": "def prepare(test_case_input):\n    \"\"\"Prepare arguments for insert function\"\"\"\n    return (test_case_input['intervals'], test_case_input['newInterval'])",
  "verify": "def verify(actual_output, expected_output):\n    \"\"\"Verify the insert interval result\"\"\"\n    passed = actual_output == expected_output\n    output_str = str(actual_output)\n    return [passed, output_str]",
  "test_cases": [
    {
      "id": 1,
      "input": {
        "intervals": [
          [1, 3],
          [6, 9]
        ],
        "newInterval": [2, 5]
      },
      "output": [
        [1, 5],
        [6, 9]
      ]
    },
    {
      "id": 2,
      "input": {
        "intervals": [
          [1, 2],
          [3, 5],
          [6, 7],
          [8, 10],
          [12, 16]
        ],
        "newInterval": [4, 8]
      },
      "output": [
        [1, 2],
        [3, 10],
        [12, 16]
      ]
    },
    {
      "id": 3,
      "input": {
        "intervals": [],
        "newInterval": [5, 7]
      },
      "output": [
        [5, 7]
      ]
    },
    {
      "id": 4,
      "input": {
        "intervals": [
          [1, 5]
        ],
        "newInterval": [2, 3]
      },
      "output": [
        [1, 5]
      ]
    },
    {
      "id": 5,
      "input": {
        "intervals": [
          [1, 5]
        ],
        "newInterval": [6, 8]
      },
      "output": [
        [1, 5],
        [6, 8]
      ]
    }
  ]
}
