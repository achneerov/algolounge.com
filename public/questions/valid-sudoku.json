{
  "filename": "valid-sudoku",
  "title": "Valid Sudoku",
  "keywords": [
    "valid",
    "sudoku",
    "matrix",
    "board",
    "validation",
    "rules",
    "duplicates",
    "constraints",
    "game",
    "puzzle"
  ],
  "description": "<h2>Valid Sudoku</h2><p>Determine if a <code>9 x 9</code> Sudoku board is valid. Only the filled cells need to be validated <strong>according to the following rules</strong>:</p><ol><li>Each row must contain the digits <code>1-9</code> without repetition.</li><li>Each column must contain the digits <code>1-9</code> without repetition.</li><li>Each of the nine <code>3 x 3</code> sub-boxes of the grid must contain the digits <code>1-9</code> without repetition.</li></ol><p><strong>Note:</strong></p><ul><li>A Sudoku board (partially filled) could be valid but is not necessarily solvable.</li><li>Only the filled cells need to be validated according to the mentioned rules.</li></ul><h3>Examples:</h3><ul><li>Input: board = [[5,3,.,...],[6,.,.,1,9,5,...],[.,9,8,...],[8,...],[4,...],[7,...],[.,6,...],[.,...],[.,...]]<br>Output: <code>true</code></li><li>Input: board = [[8,3,.,...],[6,.,.,1,9,5,...],[.,9,8,...],[8,...],[4,...],[7,...],[.,6,...],[.,...],[.,...]]<br>Output: <code>false</code><br>Explanation: Two 8's appear in the top-left 3x3 sub-box, making the board invalid.</li></ul><h3>Constraints:</h3><ul><li><code>board.length == 9</code></li><li><code>board[i].length == 9</code></li><li><code>board[i][j]</code> is a digit <code>1-9</code> or <code>'.'</code></li></ul>",
  "entry_function": "isValidSudoku",
  "template": "def isValidSudoku(board):\n    ",
  "solution_text": "<h3>Valid Sudoku</h3><p><strong>Algorithm:</strong></p><ol><li>Create sets to track seen digits in rows, columns, and 3x3 boxes</li><li>Iterate through each cell in the 9x9 board</li><li>For non-empty cells, calculate which 3x3 box it belongs to using: <code>(row // 3) * 3 + (col // 3)</code></li><li>Check if digit already exists in its row, column, or box</li><li>If duplicate found, return false</li><li>Otherwise, add digit to all three sets and continue</li><li>If all cells processed without conflict, return true</li></ol><p><strong>Time Complexity:</strong> O(1) - always process exactly 81 cells (fixed board size)</p><p><strong>Space Complexity:</strong> O(1) - at most 9 elements per set, 27 total sets</p><p><strong>Example Walkthrough:</strong></p><p>Processing the first few cells from the top-left corner:</p><ul><li>Cell [0][0] = '5' → box_index = (0//3)*3 + (0//3) = 0. Not in rows[0], cols[0], or boxes[0], so add '5' to all three.</li><li>Cell [0][1] = '3' → box_index = 0. Not in rows[0], cols[1], or boxes[0], so add '3' to all three.</li><li>Cell [1][0] = '6' → box_index = 0. Not in rows[1], cols[0], or boxes[0], so add '6' to all three.</li><li>If we encounter '5' again in row 0, column 0, or box 0, we immediately return false.</li></ul><p><strong>Key Insights:</strong></p><ul><li>Use sets for O(1) lookup instead of checking every constraint</li><li>Single pass validation - early exit on first duplicate</li><li>Box index formula <code>(row // 3) * 3 + (col // 3)</code> maps any cell to boxes 0-8</li><li>Only validate filled cells, ignore empty cells ('.')</li></ul>",
  "solution_code": "def isValidSudoku(board):\n    # Sets to track seen digits in rows, columns, and boxes\n    rows = [set() for _ in range(9)]\n    cols = [set() for _ in range(9)]\n    boxes = [set() for _ in range(9)]\n    \n    for row in range(9):\n        for col in range(9):\n            cell = board[row][col]\n            \n            # Skip empty cells\n            if cell == '.':\n                continue\n            \n            # Calculate which 3x3 box this cell belongs to\n            box_index = (row // 3) * 3 + (col // 3)\n            \n            # Check if digit already exists in row, column, or box\n            if (cell in rows[row] or \n                cell in cols[col] or \n                cell in boxes[box_index]):\n                return False\n            \n            # Add digit to respective sets\n            rows[row].add(cell)\n            cols[col].add(cell)\n            boxes[box_index].add(cell)\n    \n    return True",
  "prepare": "def prepare(test_case_input):\n    \"\"\"Prepare arguments for isValidSudoku function\"\"\"\n    return (test_case_input['board'],)",
  "verify": "def verify(actual_output, expected_output):\n    \"\"\"Verify the sudoku validation result\"\"\"\n    def bool_to_string(val):\n        return 'true' if val else 'false'\n    \n    # Convert expected output string to boolean for comparison if needed\n    expected_bool = expected_output == 'true' if isinstance(expected_output, str) else expected_output\n    \n    passed = actual_output == expected_bool\n    output_str = bool_to_string(actual_output)\n    \n    return [passed, output_str]",
  "test_cases": [
    {
      "id": 1,
      "input": {
        "board": [
          [
            "5",
            "3",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "6",
            ".",
            ".",
            "1",
            "9",
            "5",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "9",
            "8",
            ".",
            ".",
            ".",
            ".",
            "6",
            "."
          ],
          [
            "8",
            ".",
            ".",
            ".",
            "6",
            ".",
            ".",
            ".",
            "3"
          ],
          [
            "4",
            ".",
            ".",
            "8",
            ".",
            "3",
            ".",
            ".",
            "1"
          ],
          [
            "7",
            ".",
            ".",
            ".",
            "2",
            ".",
            ".",
            ".",
            "6"
          ],
          [
            ".",
            "6",
            ".",
            ".",
            ".",
            ".",
            "2",
            "8",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "4",
            "1",
            "9",
            ".",
            ".",
            "5"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            "8",
            ".",
            ".",
            ".",
            "9"
          ]
        ]
      },
      "output": "true"
    },
    {
      "id": 2,
      "input": {
        "board": [
          [
            "8",
            "3",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "6",
            ".",
            ".",
            "1",
            "9",
            "5",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "9",
            "8",
            ".",
            ".",
            ".",
            ".",
            "6",
            "."
          ],
          [
            "8",
            ".",
            ".",
            ".",
            "6",
            ".",
            ".",
            ".",
            "3"
          ],
          [
            "4",
            ".",
            ".",
            "8",
            ".",
            "3",
            ".",
            ".",
            "1"
          ],
          [
            "7",
            ".",
            ".",
            ".",
            "2",
            ".",
            ".",
            ".",
            "6"
          ],
          [
            ".",
            "6",
            ".",
            ".",
            ".",
            ".",
            "2",
            "8",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "4",
            "1",
            "9",
            ".",
            ".",
            "5"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            "8",
            ".",
            ".",
            ".",
            "9"
          ]
        ]
      },
      "output": "false"
    },
    {
      "id": 3,
      "input": {
        "board": [
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ]
        ]
      },
      "output": "true"
    },
    {
      "id": 4,
      "input": {
        "board": [
          [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ]
        ]
      },
      "output": "true"
    },
    {
      "id": 5,
      "input": {
        "board": [
          [
            "1",
            "1",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ]
        ]
      },
      "output": "false"
    },
    {
      "id": 6,
      "input": {
        "board": [
          [
            "1",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "2",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            "3",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "4",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            "5",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            "6",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "7",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "9"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "1",
            "."
          ]
        ]
      },
      "output": "true"
    },
    {
      "id": 7,
      "input": {
        "board": [
          [
            "1",
            "2",
            "3",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "4",
            "5",
            "6",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "7",
            "8",
            "9",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "1",
            "2",
            "3",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "4",
            "5",
            "6",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "7",
            "8",
            "9",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "1",
            "2",
            "3"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "4",
            "5",
            "6"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "7",
            "8",
            "9"
          ]
        ]
      },
      "output": "true"
    },
    {
      "id": 8,
      "input": {
        "board": [
          [
            "1",
            "2",
            "3",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "4",
            "5",
            "6",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "1",
            "8",
            "9",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "1",
            "2",
            "3",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "4",
            "5",
            "6",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "7",
            "8",
            "9",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "1",
            "2",
            "3"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "4",
            "5",
            "6"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "7",
            "8",
            "9"
          ]
        ]
      },
      "output": "false"
    },
    {
      "id": 9,
      "input": {
        "board": [
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "5",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "9",
            "3",
            ".",
            ".",
            "2",
            ".",
            "4",
            ".",
            "."
          ],
          [
            ".",
            ".",
            "7",
            ".",
            ".",
            ".",
            "3",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "3",
            "4",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            "3",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            "5",
            "2",
            ".",
            "."
          ]
        ]
      },
      "output": "false"
    },
    {
      "id": 10,
      "input": {
        "board": [
          [
            ".",
            ".",
            "4",
            ".",
            ".",
            ".",
            "6",
            "3",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "5",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "9",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "5",
            "6",
            ".",
            ".",
            ".",
            "."
          ],
          [
            "4",
            ".",
            "3",
            ".",
            ".",
            ".",
            ".",
            ".",
            "1"
          ],
          [
            ".",
            ".",
            ".",
            "7",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "9",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "8"
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "1",
            "5",
            ".",
            ".",
            ".",
            "4",
            ".",
            "."
          ]
        ]
      },
      "output": "true"
    },
    {
      "id": 11,
      "input": {
        "board": [
          [
            ".",
            ".",
            ".",
            ".",
            "5",
            ".",
            ".",
            "1",
            "."
          ],
          [
            ".",
            "4",
            ".",
            "3",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            "3",
            ".",
            ".",
            "1"
          ],
          [
            "8",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "2",
            "."
          ],
          [
            ".",
            ".",
            "2",
            ".",
            "7",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "1",
            "5",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            "2",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "2",
            ".",
            "9",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            "4",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ]
        ]
      },
      "output": "false"
    },
    {
      "id": 12,
      "input": {
        "board": [
          [
            "7",
            ".",
            ".",
            ".",
            "4",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            "8",
            "6",
            "5",
            ".",
            ".",
            "."
          ],
          [
            ".",
            "1",
            ".",
            "2",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            "9",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            "5",
            ".",
            "5",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "2",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ],
          [
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            ".",
            "."
          ]
        ]
      },
      "output": "false"
    }
  ]
}