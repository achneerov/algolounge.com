#!/bin/bash

set -e

echo "=== AlgoLounge Setup ==="
echo ""

# Git pull
echo "Pulling latest changes..."
git pull

echo ""
echo "Installing frontend dependencies..."
cd frontend
npm install
cd ..

echo ""
echo "Installing backend dependencies..."
cd backend
npm install
cd ..

echo ""
echo "Setting up database..."
cd backend
rm -f *.db *.db-shm *.db-wal
npm run db:generate
npm run db:push
cd ..

echo ""
echo "=== Setup Complete ==="
echo "Run './start' to start development servers"
